#include<Servo.h>

Servo s1;

int trig1 = 9;
int echo1 = 8;
int trig2 = 3;
int echo2 = 4; 
int switchPin = 6;

void setup(){
  s1.attach(11);
  pinMode(trig1, OUTPUT); 
  pinMode(echo1, INPUT);
  pinMode(trig2, OUTPUT); 
  pinMode(echo2, INPUT);
  pinMode(switchPin, INPUT);
  Serial.begin(9600);
}

void loop() {
  int distance1 = readUltrasonic(trig1, echo1);
  int distance2 = readUltrasonic(trig2, echo2);

  if(distance1 < 200){
    s1.write(0);
  }
  else {
    s1.write(180);
  }
  int speed = map(distance2, 0, 400, 1, 10); 
  
  if(digitalRead(switchPin) == HIGH){
   
    for(int pos = s1.read(); pos <= (s1.read() == 0 ? 180 : 0); 
      pos += (s1.read() == 0 ? 1 : -1)){
      s1.write(pos);
      delay(speed);
    }
  }

}

int readUltrasonic(int trigPin, int echoPin){
  digitalWrite(trigPin, LOW); 
  delayMicroseconds(2);
  digitalWrite(trigPin, HIGH); 
  delayMicroseconds(10);
  digitalWrite(trigPin, LOW);
  int duration = pulseIn(echoPin, HIGH);
  int distance = duration * 0.034 / 2;
  return distance;
}

Link-https://www.tinkercad.com/things/cHbfXvo7C2V-incredible-robo